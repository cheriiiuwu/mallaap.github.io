<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Administración Pública UChile</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: #EDD8E2;
      min-height: 100vh;
      padding: 40px 20px;
    }

    h1 {
      font-family: 'Inter', sans-serif;
      font-weight: 700;
      color: #b85896;
      text-align: center;
      margin-bottom: 50px;
      font-size: 2.8rem;
      letter-spacing: -0.5px;
    }

    .reset-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #b85896;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      font-family: 'Inter', sans-serif;
      transition: all 0.2s ease;
      z-index: 1000;
    }

    .reset-btn:hover {
      background: #a04a85;
      transform: translateY(-1px);
    }

    .malla-container {
      display: flex;
      gap: 20px;
      overflow-x: auto;
      padding-bottom: 20px;
      padding-right: 20px;
      width: 100%;
    }

    .semestre {
      min-width: 320px;
      max-width: 320px;
      background: white;
      border: 2px solid #d1a3c4;
      border-radius: 15px;
      padding: 0;
      flex-shrink: 0;
      height: fit-content;
    }

    .semestre-header {
      background: #f8f5f5;
      padding: 15px;
      border-bottom: 2px solid #d1a3c4;
      border-radius: 13px 13px 0 0;
    }

    .semestre h2 {
      color: #b85896;
      text-align: center;
      margin: 0;
      font-size: 1.25rem;
      font-weight: 600;
      font-family: 'Inter', sans-serif;
    }

    .semestre-content {
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .ramo {
      background: #e8a4c7;
      border: 2px solid #e8a4c7;
      border-radius: 12px;
      padding: 12px 16px;
      cursor: pointer;
      font-weight: 500;
      color: #6b1c4a;
      transition: all 0.2s ease;
      font-size: 14px;
      line-height: 1.3;
      font-family: 'Inter', sans-serif;
      text-align: center;
      min-height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ramo:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(184, 88, 150, 0.2);
    }

    .ramo.aprobado {
      background: #c8e6c9;
      border-color: #4caf50;
      color: #2e7d32;
      text-decoration: line-through;
    }

    .ramo.bloqueado {
      background: #f5f5f5;
      border: 2px dashed #d1a3c4;
      color: #999;
      cursor: not-allowed;
      opacity: 0.7;
    }

    .ramo.bloqueado:hover {
      transform: none;
      box-shadow: none;
    }

    .ramo.especial-morado {
      background: #d1c4e9;
      border-color: #d1c4e9;
      color: #4a148c;
    }

    .ramo.especial-azul {
      background: #bbdefb;
      border-color: #bbdefb;
      color: #0d47a1;
    }

    .ramo.especial-verde {
      background: #c8e6c9;
      border-color: #c8e6c9;
      color: #1b5e20;
    }

    .ramo.especial-amarillo {
      background: #fff3e0;
      border-color: #fff3e0;
      color: #e65100;
    }

    @media (max-width: 1200px) {
      .malla-container {
        gap: 15px;
      }

      .semestre {
        min-width: 280px;
        max-width: 280px;
      }
    }

    @media (max-width: 768px) {
      .malla-container {
        gap: 12px;
      }

      .semestre {
        min-width: 250px;
        max-width: 250px;
      }

      h1 {
        font-size: 2.2rem;
      }

      .ramo {
        font-size: 13px;
        padding: 10px 14px;
      }
    }
  </style>
</head>

<body>
  <h1>Administración Pública UChile</h1>
  <button class="reset-btn" onclick="resetearMalla()">Reiniciar Malla</button>

  <div class="malla-container">
    <div class="semestre">
      <div class="semestre-header">
        <h2>1° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo" id="mat_gestion1" onclick="aprobar('mat_gestion1')">Matemáticas para la gestión I</div>
        <div class="ramo" id="intro_gestion_pub" onclick="aprobar('intro_gestion_pub')">Introducción a la gestión pública</div>
        <div class="ramo" id="hist_inst" onclick="aprobar('hist_inst')">Historia de las instituciones políticas y administrativas de Chile</div>
        <div class="ramo especial-morado" id="tec_info" onclick="aprobar('tec_info')">Tecnologías y sistemas de información</div>
        <div class="ramo especial-morado" id="bases_juridicas" onclick="aprobar('bases_juridicas')">Bases jurídicas para la administración del Estado</div>
        <div class="ramo" id="ingles1" onclick="aprobar('ingles1')">Inglés I</div>
        <div class="ramo" id="curso_libre1" onclick="aprobar('curso_libre1')">Curso libre</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>2° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo" id="evol_admin_pub" onclick="aprobar('evol_admin_pub')">Evolución y complejidad de la administración pública</div>
        <div class="ramo bloqueado" id="mat_gestion2" onclick="aprobar('mat_gestion2')">Matemáticas para la gestión II</div>
        <div class="ramo" id="ideas_debates" onclick="aprobar('ideas_debates')">Ideas y debates políticos contemporáneos</div>
        <div class="ramo" id="epistemologia" onclick="aprobar('epistemologia')">Epistemología de las ciencias sociales</div>
        <div class="ramo bloqueado" id="marco_norm1" onclick="aprobar('marco_norm1')">Marco Normativo para la acción administrativa I</div>
        <div class="ramo bloqueado" id="ingles2" onclick="aprobar('ingles2')">Inglés II</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>3° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo bloqueado" id="estad1" onclick="aprobar('estad1')">Estadística para la gestión I</div>
        <div class="ramo bloqueado" id="dinamicas_ap" onclick="aprobar('dinamicas_ap')">Dinámicas de la administración pública chilena</div>
        <div class="ramo bloqueado" id="fenomenos_politicos" onclick="aprobar('fenomenos_politicos')">Estudio de los fenómenos políticos</div>
        <div class="ramo bloqueado" id="metodo_invest1" onclick="aprobar('metodo_invest1')">Metodología de la investigación en Administración Pública</div>
        <div class="ramo bloqueado" id="marco_norm2" onclick="aprobar('marco_norm2')">Marco Normativo para la acción administrativa II</div>
        <div class="ramo bloqueado" id="ingles3" onclick="aprobar('ingles3')">Inglés III</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>4° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo bloqueado" id="estad2" onclick="aprobar('estad2')">Estadística para la gestión II</div>
        <div class="ramo bloqueado" id="diseno_org" onclick="aprobar('diseno_org')">Diseño organizacional</div>
        <div class="ramo bloqueado" id="ap_fen_politicos" onclick="aprobar('ap_fen_politicos')">La Administración Pública y los fenómenos políticos</div>
        <div class="ramo bloqueado" id="metodo_cuali" onclick="aprobar('metodo_cuali')">Métodos cualitativos para la Administración Pública</div>
        <div class="ramo especial-verde" id="cfg" onclick="aprobar('cfg')">CFG</div>
        <div class="ramo bloqueado" id="ingles4" onclick="aprobar('ingles4')">Inglés IV</div>
        <div class="ramo" id="comport_hum" onclick="aprobar('comport_hum')">Comportamiento humano en la organización</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>5° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo bloqueado" id="micro" onclick="aprobar('micro')">Fenómenos microeconómicos</div>
        <div class="ramo bloqueado" id="gestion_procesos" onclick="aprobar('gestion_procesos')">Gestión de procesos en organizaciones públicas</div>
        <div class="ramo bloqueado" id="analisis_pol_int" onclick="aprobar('analisis_pol_int')">Análisis político internacional</div>
        <div class="ramo bloqueado" id="metodo_cuanti" onclick="aprobar('metodo_cuanti')">Métodos cuantitativos para la Administración Pública</div>
        <div class="ramo" id="bases_contables" onclick="aprobar('bases_contables')">Bases contables para la gestión pública</div>
        <div class="ramo" id="marco_analitico" onclick="aprobar('marco_analitico')">Marco analítico de las políticas públicas</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>6° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo bloqueado" id="macro" onclick="aprobar('macro')">Fenómenos macroeconómicos</div>
        <div class="ramo bloqueado" id="plan_estrategica" onclick="aprobar('plan_estrategica')">Planificación estratégica de organizaciones públicas</div>
        <div class="ramo bloqueado" id="negociacion" onclick="aprobar('negociacion')">Negociación y toma de decisiones</div>
        <div class="ramo" id="gestion_territorial" onclick="aprobar('gestion_territorial')">Gestión territorial y descentralización</div>
        <div class="ramo bloqueado" id="gestion_financiera" onclick="aprobar('gestion_financiera')">Gestión financiera y presupuestaria del Estado</div>
        <div class="ramo bloqueado" id="formulacion_pp" onclick="aprobar('formulacion_pp')">Formulación e implementación de políticas públicas</div>
        <div class="ramo" id="gestion_personas" onclick="aprobar('gestion_personas')">Gestión de personas en organizaciones públicas</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>7° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo bloqueado" id="eco_sector_pub" onclick="aprobar('eco_sector_pub')">Economía del sector público</div>
        <div class="ramo bloqueado" id="control_eval" onclick="aprobar('control_eval')">Control y evaluación en organizaciones públicas</div>
        <div class="ramo bloqueado" id="analisis_problemas" onclick="aprobar('analisis_problemas')">Análisis integrado de los problemas públicos</div>
        <div class="ramo bloqueado" id="contabilidad_gubernamental" onclick="aprobar('contabilidad_gubernamental')">Contabilidad gubernamental</div>
        <div class="ramo bloqueado" id="eval_pp" onclick="aprobar('eval_pp')">Evaluación de políticas públicas</div>
        <div class="ramo" id="curso_libre2" onclick="aprobar('curso_libre2')">Curso libre</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>8° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo" id="gestion_proyectos" onclick="aprobar('gestion_proyectos')">Gestión de proyectos sociales</div>
        <div class="ramo" id="simulacion" onclick="aprobar('simulacion')">Simulación de asesoría</div>
        <div class="ramo" id="comunicacion" onclick="aprobar('comunicacion')">Comunicación estratégica y marketing político</div>
        <div class="ramo bloqueado" id="seminario_aplicado" onclick="aprobar('seminario_aplicado')">Seminario de investigación aplicada</div>
        <div class="ramo bloqueado" id="auditoria" onclick="aprobar('auditoria')">Auditoría gubernamental</div>
        <div class="ramo bloqueado" id="analisis_empirico" onclick="aprobar('analisis_empirico')">Análisis empírico de política pública</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>9° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo bloqueado" id="eval_proyectos" onclick="aprobar('eval_proyectos')">Evaluación de proyectos sociales</div>
        <div class="ramo especial-azul" id="electivo1" onclick="aprobar('electivo1')">Electivo I</div>
        <div class="ramo especial-azul" id="electivo2" onclick="aprobar('electivo2')">Electivo II</div>
        <div class="ramo especial-azul" id="electivo3" onclick="aprobar('electivo3')">Electivo III</div>
        <div class="ramo especial-verde" id="cfg2" onclick="aprobar('cfg2')">CFG</div>
        <div class="ramo especial-azul" id="electivo4" onclick="aprobar('electivo4')">Electivo IV</div>
        <div class="ramo" id="dir_etica_pub" onclick="aprobar('dir_etica_pub')">Dirección y ética pública</div>
      </div>
    </div>

    <div class="semestre">
      <div class="semestre-header">
        <h2>10° Semestre</h2>
      </div>
      <div class="semestre-content">
        <div class="ramo especial-amarillo" id="practica" onclick="aprobar('practica')">Práctica profesional</div>
        <div class="ramo especial-amarillo" id="examen" onclick="aprobar('examen')">Examen de título</div>
      </div>
    </div>
  </div>

  <script>
    const dependencias = {
      'mat_gestion2': ['mat_gestion1'],
      'evol_admin_pub': ['intro_gestion_pub'],
      'marco_norm1': ['bases_juridicas'],
      'ingles2': ['ingles1'],
      'estad1': ['mat_gestion2'],
      'dinamicas_ap': ['evol_admin_pub'],
      'fenomenos_politicos': ['ideas_debates'],
      'metodo_invest1': ['epistemologia'],
      'marco_norm2': ['marco_norm1'],
      'ingles3': ['ingles2'],
      'estad2': ['estad1'],
      'diseno_org': ['dinamicas_ap'],
      'ap_fen_politicos': ['fenomenos_politicos'],
      'metodo_cuali': ['metodo_invest1'],
      'ingles4': ['ingles3'],
      'micro': ['estad2'],
      'gestion_procesos': ['diseno_org'],
      'analisis_pol_int': ['ap_fen_politicos'],
      'metodo_cuanti': ['metodo_cuali'],
      'macro': ['micro'],
      'plan_estrategica': ['gestion_procesos'],
      'negociacion': ['comport_hum'],
      'gestion_financiera': ['bases_contables'],
      'formulacion_pp': ['marco_analitico'],
      'eco_sector_pub': ['macro'],
      'control_eval': ['plan_estrategica'],
      'analisis_problemas': ['analisis_pol_int'],
      'contabilidad_gubernamental': ['gestion_financiera'],
      'eval_pp': ['formulacion_pp'],
      'seminario_aplicado': ['metodo_cuanti'],
      'auditoria': ['contabilidad_gubernamental'],
      'analisis_empirico': ['eval_pp'],
      'eval_proyectos': ['gestion_proyectos']
    };

    let materiasAprobadas = {};

    function aprobar(materiaId) {
      const elemento = document.getElementById(materiaId);

      if (elemento.classList.contains('bloqueado')) {
        return;
      }

      if (materiasAprobadas[materiaId]) {
        materiasAprobadas[materiaId] = false;
        elemento.classList.remove('aprobado');
      } else {
        materiasAprobadas[materiaId] = true;
        elemento.classList.add('aprobado');
      }

      actualizarDependencias();
    }

    function actualizarDependencias() {
      Object.keys(dependencias).forEach(materiaId => {
        const elemento = document.getElementById(materiaId);
        const prereqs = dependencias[materiaId];

        const puedeAprobar = prereqs.every(prereq => materiasAprobadas[prereq]);

        if (puedeAprobar) {
          elemento.classList.remove('bloqueado');
        } else {
          elemento.classList.add('bloqueado');
          if (materiasAprobadas[materiaId]) {
            materiasAprobadas[materiaId] = false;
            elemento.classList.remove('aprobado');
          }
        }
      });
    }

    function resetearMalla() {
      materiasAprobadas = {};

      document.querySelectorAll('.ramo').forEach(elemento => {
        elemento.classList.remove('aprobado');
      });

      Object.keys(dependencias).forEach(materiaId => {
        document.getElementById(materiaId).classList.add('bloqueado');
      });
    }

    resetearMalla();
  </script>
</body>
</html>